## SDS定义

SDS：simple dynamic string （简单动态字符串）

```
sds.h

struct sdshdr {
        unsigned int len;
        unsigned int free;
        char buf[];

};
```

Redis中使用SDS而不是C字符串的原因

1，常数复杂度获取字符串长度
2，杜绝缓存区溢出（有点牵强，只是做了一次保护，并不是C字符串导致的缓存区溢出，而是粗心）
3，减少修改字符串时带来的内存重分配次数（采用空间预分配方式和惰性空间释放）
4，二进制安全：
C字符串必须符合某种编码（比如ASCII）,并且除了字符串的末尾之外，字符串里面不能包含空字符，否则最先被读入的空字符会被误认为是字符串结尾，这些限制使得C字符串
只能存储文本数据，而不能保存图片，音频，视频，压缩文件这样的二进制数据。
为了确保Redis可以适用于各种不同的使用场景，SDS的API都是二进制安全的，所有的SDS API都会以处理二进制的形式来处理SDS存放在buf数组里的数据，程序不会对其中的数据做任何限制，过滤，或者假设，数据存入时什么样，取出时就是什么样。

4，兼容部分C字符串函数


